/*! 2024-03-19 */
KISSY.add(function(o){function i(e,t){for(var i=0,n=t.length;i<n;i++){for(var s=t[i],r=0,h=0;r<e.length;r++)e[r]!=s&&(e[h++]=e[r]);e.length=h}}function e(e){this.listeners=this.listeners||{},this.oneTimeListeners=this.oneTimeListeners||{}}return UFO.augment(e,{on:function(e,t){var i=this.listeners[e]||[];return(i=o.isArray(i)?i:[i]).push(t),this.listeners[e]=i,this},off:function(e,t){return this.listeners[e]&&i(this.listeners[e],t),this.oneTimeListeners[e]&&i(this.oneTimeListeners[e],t),this},one:function(e,t){return this.oneTimeListeners[e]=this.oneTimeListeners[e]||[],this.oneTimeListeners[e].push(t),this},fire:function(){var e=[],t=arguments[0],i=Array.prototype.slice.call(arguments,1),n=this.listeners[t],s=this.oneTimeListeners[t];if(n)for(var r=0,h=(n=o.isArray(n)?n:[n]).length;r<h;r++)e.push(n[r].apply(this,i));if(s)for(r=0,h=(s=o.isArray(s)?s:[s]).length;r<h;r++)e.push(s[r].apply(this,i));return s=[],1==e.length?e[0]:e},fireEvent:function(){return this.fire.apply(this,arguments)},hasListener:function(e){return this.listeners[e]},relayEvents:function(e,t,i){for(var n,s=t.length,r=0;r<s;r++)n=t[r],e.on(n,this.createRelayer(i?i+n:n))},createRelayer:function(e,t){var i=this;return function(){return i.fireEvent.apply(i,[e].concat(Array.prototype.slice.apply(arguments,t||[0])))}}}),e});